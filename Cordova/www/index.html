<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width"/>
    <title></title>

    <!-- jquery -->
    <script src="3rdParty/jquery-1.11.3.min.js"></script>

    <!--  -->
    <link rel="stylesheet" href="3rdParty/jQuery-Validation-Engine-master/css/validationEngine.jquery.css"/>
    <script src="3rdParty/jQuery-Validation-Engine-master/js/languages/jquery.validationEngine-zh_TW.js"></script>
    <script src="3rdParty/jQuery-Validation-Engine-master/js/jquery.validationEngine.js"></script>

    <!-- materialize -->
    <!--<link rel="stylesheet" href="3rdParty/materialize/css/materialize.min.css"/>-->
    <link rel="stylesheet" href="3rdParty/materialize/css/ghpages-materialize.css"/>
    <link rel="stylesheet" href="3rdParty/materialize/fonts/MaterialIcons.css"/>
    <script src="3rdParty/materialize/js/materialize.min.js"></script>

    <!-- Loading -->
    <link rel="stylesheet" href="3rdParty/jQuery-showLoading/loading.css"/>
    <script src="3rdParty/jQuery-showLoading/jquery.loading.js"></script>

    <!-- jBox -->
    <link rel="stylesheet" href="3rdParty/jBox-0.6.3/dist/jBox.all.css"/>
    <script src="3rdParty/jBox-0.6.3/dist/jBox.all.js"></script>

    <!-- index -->
    <link rel="stylesheet" href="css/index.css">
</head>
<body style="display: none;">

<div id="content">
<header>
    <nav class="top-nav">
        <div class="container">
            <div class="nav-wrapper">
                <div class="row">
                    <div class="col s12 m10 offset-m1">
                        <h1 class="header" id="header">{Header}</h1>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <a href="#" data-target="nav-mobile" class="top-nav sidenav-trigger full hide-on-large-only"><i class="material-icons">menu</i></a>
    </div>

    <ul id="nav-mobile" class="sidenav sidenav-fixed">
        <li class="logo">
            <a id="logo-container" href="javascript:void(0);" class="brand-logo">
                <img src="img/logo-64.png" style="width: 64px;"/>
            </a>
        </li>

        <li class="no-padding LoginYes">
            <ul class="">
                <li class="bold"><a class="collapsible-header" style="white-space: nowrap;"><span class="userName">{UserName}</span></a>
                    <div class="">
                        <ul>
                            <li class="{User/Situation}"><a href="javascript:void(0);" onclick="pageChange('#page_Situation');$('.sidenav').sidenav('close');"><span class="menu-chevron material-icons">chevron_right</span> {menu/User/Situation}</a></li>
                            <li class="{User/IoT}"><a href="javascript:void(0);" onclick="pageChange('#page_DeviceList');$('.sidenav').sidenav('close');"><span class="menu-chevron material-icons">chevron_right</span> {menu/User/IoT}</a></li>
                            <li><a href="javascript:void(0);" onclick="logout()">登出</a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </li>

        <li class="LoginNo">
            <a href="javascript:void(0);" onclick="login()">登入</a>
        </li>

    </ul>

</header>

<main>
    <div class="">

        <!-- 未登入 -->
        <div class="LoginNo" style="display: none; padding: 8px 0;">

            <section id="page_Login">

                <!--<button type="button" onclick="fingerprint()">google fingerprint</button>-->

                <!-- 登入按鈕 -->
                <div class="container center" style="margin-top: 36px;">
                    <button type="button" class="btn waves-effect waves-light" onclick="login()">google 登入</button>
                </div>

            </section>

        </div>

        <!-- 已登入 -->
        <div class="LoginYes" style="display: none;">

            <div style="height: 50px; line-height: 50px; padding-left: 16px;">
                <div id="breadcrumbs" class="col s12">
                    <button class="waves-effect waves-red btn-flat" onclick="back()">返回</button>
                </div>
            </div>

            <!--<div id="userId"></div>-->

            <!-- DeviceList -->
            <section id="page_DeviceList" class="page" style="display: none;">

                <div>
                    <button type="button" class="waves-effect waves-red btn red" onclick="addDevice()"><i class="material-icons left">add_box</i> IoT 綁定</button>
                </div>

                <!---->
                <div id="search_DeviceList" class="row" style="margin-top: 16px;"></div>

                <!-- Template -->
                <div id="templateDevice" style="display: none;">
                    <div class="col s12 m4" style=" height:120px;">
                        <div style="margin: 8px; border:1px solid #ddd;">
                            <div style="height: 65px; padding: 12px;" class="card-title DeviceName">{Name}</div>
                            <div class="" style="height: 45px;">
                                <div id="buttonControl" class="btn waves-effect col light-green darken-3" style="height: 45px; line-height: 45px;" onclick="deviceControl('{id}', '{Name}', '{column_io}')"><i class="material-icons" style="vertical-align: bottom;">power_settings_new</i> 開關</div>
                                <div id="buttonData" class="btn waves-effect col orange darken-3" style="height: 45px; line-height: 45px;" onclick="deviceData('{id}', '{column_data}')"><i class="material-icons" style="vertical-align: bottom;">show_chart</i> 資料</div>
                            </div>
                        </div>
                    </div>
                </div>

            </section>

            <!-- Page DeviceControl -->
            <section id="page_DeviceControl" class="page" style="display: none;">
                <div class="container center Name" style="margin: 8px 0 16px; width: 100%; font-size: 24px; font-weight: bold;"></div>

                <div id="showPushSwitch" style="display: none;"></div>

                <div id="templatePushSwitch" style="display: none;">
                    <div class="row">
                        <div class="col s12 center" style="height: 300px;">
                            <button class="btn-floating btn-large waves-effect waves-light grey darken-1" style="width: 300px; height: 300px;" onclick="pushSwitch('{id}', '{io}', this)"><i class="material-icons" style="line-height: 300px; font-size: 120px;">power_settings_new</i></button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SmartConfig -->
            <section id="page_SmartConfig" class="page" style="display: none;">

                <div class="row">
                    <form id="idFormSmartConfig" class="col s12">
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="idSSID" type="text" data-validation-engine="validate[required]" >
                                <label for="idSSID">SSID</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="idBSSID" type="text" data-validation-engine="validate[required]" >
                                <label for="idBSSID">BSSID</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <input id="idPassword" type="text" value="" data-validation-engine="validate[required]">
                                <label for="idPassword">Password</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12">
                                <button type="submit" id="idButtonSmartConfig" class="btn waves-effect waves-light" style="width: 100%;">設定</button>
                            </div>
                        </div>
                    </form>
                </div>

            </section>

            <!-- SmartConfig 提示切換 WiFi AP -->
            <section id="page_ChangeAP" class="page" style="display: none;">
                <div class="container" style="margin-top: 24px; padding: 8px;">
                    <div>請直接切換到設定頁，選取 HoyoIoT 開頭 WiFi AP，選擇連線後直接切換回 APP ，即可完成綁定。</div>
                </div>
            </section>

            <!-- 情境 -->
            <section id="page_Situation" class="page" style="display: none;">
                情境
                <div class="row" id="page_SearchSituation"></div>
            </section>
        </div>

    </div>
</main>


<!--ModalLoginYes-->
<div id="ModalLoginYes" style="display: none;">
    <div style="padding: 4px 12px;">
        <!--<div><a href="javascript:void(0);" onclick="friend()">好友</a></div>-->
        <div><a href="javascript:void(0);" id="idUpload">店家</a></div>
        <div><a href="?a=Logout">登出</a></div>
    </div>
</div>

<div id="modalDevice" style="display: none;">

</div>

    <!-- template search -->
    <div id="templateSearch" style="display: none;">
        <div class="col s12 m6" style="margin-bottom: 20px;">
            <div style="padding: 16px; border: 1px solid #999; border-radius: 8px; height: 100px; ">
                <div>
                    <button class="btn waves-effect waves-red blue lighten-5 black-text col s12" style="height: 60px;" onclick="action('{Token}')">{Name}</button>
                </div>

            </div>

        </div>
    </div>
</div>

<!-- js -->
<script src="cordova.js"></script>
<script src="js/php.js"></script>
<!--<script src="js/espSmartconfig.js"></script>-->
<!--<script src="js/WifiWizard.js"></script>-->
<script src="js/index.js?v=8"></script>
</body>
</html>
